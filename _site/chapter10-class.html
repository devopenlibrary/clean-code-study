<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>10장 클래스 | Dev Open Library</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="10장 클래스" /> <meta property="og:locale" content="en" /> <meta name="description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <meta property="og:description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <link rel="canonical" href="http://localhost:4000/chapter10-class.html" /> <meta property="og:url" content="http://localhost:4000/chapter10-class.html" /> <meta property="og:site_name" content="Dev Open Library" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="10장 클래스" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A minimal, responsive and feature-rich Jekyll theme for technical writing.","headline":"10장 클래스","url":"http://localhost:4000/chapter10-class.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Dev Open Library </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/chapter10-class.html" class="nav-list-link">10장 클래스</a></li><li class="nav-list-item"><a href="/chapter11-system.html" class="nav-list-link">11장 시스템</a></li><li class="nav-list-item"><a href="/chapter17-smell-and-heuristic.html" class="nav-list-link">17장 냄새와 휴리스틱</a></li><li class="nav-list-item"><a href="/chapter3-function.html" class="nav-list-link">3장 함수</a></li><li class="nav-list-item"><a href="/chapter5-consistent-formatting%20.html" class="nav-list-link">5장 형식 맞추기</a></li><li class="nav-list-item"><a href="/chpater6-obejct-and-data-structure.html" class="nav-list-link">6장 객체와 자료구조</a></li><li class="nav-list-item"><a href="/chapter7-error-handling.html" class="nav-list-link">7장 오류 처리</a></li><li class="nav-list-item"><a href="/chapter9-unit-test.html" class="nav-list-link">9장 단위 테스트</a></li><li class="nav-list-item"><a href="/chapter15-junit.html" class="nav-list-link">JUnit</a></li><li class="nav-list-item"><a href="/chapter16-SerialDate-refactoring.html" class="nav-list-link">SerialDate 리팩토링</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">clean-code-study</a></li><li class="nav-list-item"><a href="/chapter8-boundary.html" class="nav-list-link">경계</a></li><li class="nav-list-item"><a href="/chapter1-clean-code.html" class="nav-list-link">깨끗한 코드</a></li><li class="nav-list-item"><a href="/chapter13-concurrency.html" class="nav-list-link">동시성</a></li><li class="nav-list-item"><a href="/appendix-concurrency.html" class="nav-list-link">동시성</a></li><li class="nav-list-item"><a href="/chapter14-incremental-improvement.html" class="nav-list-link">점진적인 개선</a></li><li class="nav-list-item"><a href="/chapter4-annotation.html" class="nav-list-link">주석</a></li><li class="nav-list-item"><a href="/chapter12-emergence.html" class="nav-list-link">창발성</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dev Open Library" aria-label="Search Dev Open Library" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="10장-클래스"> <a href="#10장-클래스" class="anchor-heading" aria-labelledby="10장-클래스"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10장 클래스 </h1> <h2 id="클래스-체계"> <a href="#클래스-체계" class="anchor-heading" aria-labelledby="클래스-체계"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 클래스 체계 </h2> <p>클래스를 만들 때는 <strong>변수와 함수의 위치와 순서</strong>를 체계적으로 정리한다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="err">{</span>
    <span class="err">//</span> <span class="nc">변수</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="o">...</span> <span class="c1">// 정적 공개 상수</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="o">...</span>      <span class="c1">// 정적 비공개 변수</span>
    <span class="kd">private</span> <span class="o">...</span>             <span class="c1">// 비공개 인스턴스 변수</span>

    <span class="c1">// 함수</span>
    <span class="kd">public</span> <span class="o">...</span>              <span class="c1">// 공개 함수 (필요 시 비공개 함수 호출)</span>
    <span class="kd">private</span> <span class="o">...</span>             <span class="c1">//   ↪ 유틸리티 등 비공개 함수</span>
<span class="o">}</span>
</code></pre></div></div> <p>변수는 역할에 따라 가시성을 신중히 조정해야 하며, 공개 함수는 필요한 동작만 외부에 노출해야 한다.</p> <h3 id="캡슐화"> <a href="#캡슐화" class="anchor-heading" aria-labelledby="캡슐화"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 캡슐화 </h3> <p><strong>캡슐화를 풀어주는 결정은 언제나 최후의 수단이다.</strong></p> <ul> <li>내부 구현을 외부에 숨기고 필요한 부분만 공개한다. <ul> <li>내부 구현을 외부에서 함부로 건드릴 수 없다.</li> <li>변경이 필요한 경우에도 <strong>내부만 수정</strong>하면 된다.</li> </ul> </li> <li>테스트나 동일 패키지 내에서 접근이 꼭 필요하다면 <code class="language-plaintext highlighter-rouge">protected</code>나 패키지 접근 수준(default)을 고려할 수 있지만, <strong>항상 감추는 것이 기본</strong>이다.</li> </ul> <h2 id="클래스는-작아야-한다"> <a href="#클래스는-작아야-한다" class="anchor-heading" aria-labelledby="클래스는-작아야-한다"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 클래스는 작아야 한다 </h2> <p><strong>클래스도 함수와 마찬가지로 작고 명확해야 한다.</strong></p> <ul> <li>한 클래스가 너무 많은 책임을 지고 있다면, 코드가 복잡해지고 수정이 어려워진다.</li> <li>클래스의 크기는 클래스가 맡은 책임으로 센다.</li> <li>클래스 이름은 해당 클래스 책임을 기술해야 한다. <ul> <li>간결한 이름이 떠오르지 않는다면 클래스 크기가 너무 커서 그렇다.</li> <li>클래스 이름이 모호하다면 클래스 책임이 너무 많진 않은지 생각해봐야 한다.</li> </ul> </li> </ul> <p>👎👎👎</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 클래스 책임이 수억개</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SuperDashboard</span> <span class="kd">extends</span> <span class="nc">JFrame</span> <span class="kd">implements</span> <span class="nc">MetaDataUser</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getCustomizerLanguagePath</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSystemConfigPath</span><span class="o">(</span><span class="nc">String</span> <span class="n">systemConfigPath</span><span class="o">)</span> 
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSystemConfigDocument</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSystemConfigDocument</span><span class="o">(</span><span class="nc">String</span> <span class="n">systemConfigDocument</span><span class="o">)</span> 
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getGuruState</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getNoviceState</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">getOpenSourceState</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">showObject</span><span class="o">(</span><span class="nc">MetaObject</span> <span class="n">object</span><span class="o">)</span> 
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">showProgress</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isMetadataDirty</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setIsMetadataDirty</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isMetadataDirty</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">Component</span> <span class="nf">getLastFocusedComponent</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastFocused</span><span class="o">(</span><span class="nc">Component</span> <span class="n">lastFocused</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMouseSelectState</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isMouseSelected</span><span class="o">)</span> 
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isMouseSelected</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">LanguageManager</span> <span class="nf">getLanguageManager</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">Project</span> <span class="nf">getProject</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">Project</span> <span class="nf">getFirstProject</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">Project</span> <span class="nf">getLastProject</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getNewProjectName</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setComponentSizes</span><span class="o">(</span><span class="nc">Dimension</span> <span class="n">dim</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getCurrentDir</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCurrentDir</span><span class="o">(</span><span class="nc">String</span> <span class="n">newDir</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateStatus</span><span class="o">(</span><span class="kt">int</span> <span class="n">dotPos</span><span class="o">,</span> <span class="kt">int</span> <span class="n">markPos</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">Class</span><span class="o">[]</span> <span class="nf">getDataBaseClasses</span><span class="o">()</span>
  <span class="c1">// ... 그 외 수많은 공개/비공개 메서드 ...</span>
  <span class="c1">// ~~ 중략 ~~</span>

  
<span class="o">}</span>
</code></pre></div></div> <p>👎👎👎</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 메소드는 5개지만 책임도 여러개</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SuperDashboard</span> <span class="kd">extends</span> <span class="nc">JFrame</span> <span class="kd">implements</span> <span class="nc">MetaDataUser</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nc">Component</span> <span class="nf">getLastFocusedComponent</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastFocused</span><span class="o">(</span><span class="nc">Component</span> <span class="n">lastFocused</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMajorVersionNumber</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMinorVersionNumber</span><span class="o">()</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBuildNumber</span><span class="o">()</span> 
<span class="o">}</span>
</code></pre></div></div> <h3 id="단일-책임-원칙srp-single-responsibility-principle"> <a href="#단일-책임-원칙srp-single-responsibility-principle" class="anchor-heading" aria-labelledby="단일-책임-원칙srp-single-responsibility-principle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 단일 책임 원칙(SRP, Single Responsibility Principle) </h3> <p><strong>클래스는 하나의 책임만 가지고 있어야 한다.</strong></p> <p>클래스나 모듈을 변경할 이유는 하나뿐이어야 한다.</p> <p>👍👍👍</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 버전 정보를 다루는 메서드 3개를 따로 빼서 </span>
<span class="c1">// Version 이라는 독자적인 클래스를 만들어 다른 곳에서 재사용하기 쉬워졌다.</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Version</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMajorVersionNumber</span><span class="o">()</span> 
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMinorVersionNumber</span><span class="o">()</span> 
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getBuildNumber</span><span class="o">()</span>
<span class="o">}</span>
</code></pre></div></div> <p>이렇게 책임을 나누면, 하나의 기능을 변경할 때 다른 기능에 영향을 주지 않게 된다.</p> <h3 id="응집도cohesion"> <a href="#응집도cohesion" class="anchor-heading" aria-labelledby="응집도cohesion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 응집도(Cohesion) </h3> <p><strong>클래스 내 메서드들이 동일한 데이터에 관심이 없을 경우, 분리할 필요가 있다는 신호이다.</strong></p> <ul> <li><strong>응집도</strong>: 클래스 내부의 메서드와 변수들이 <strong>서로 밀접하게 연관</strong>되어 있음을 말한다. <ul> <li>응집도가 높으면 클래스가 <strong>자기 역할에 집중</strong>하고, 다른 역할을 침범하지 않는다.</li> </ul> </li> <li>메서드가 인스턴스 변수를 많이 쓸수록 응집도가 높다.</li> <li>응집도가 낮으면, 클래스를 나누는 것을 고려해야 한다.</li> </ul> <p>👍👍👍</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 높은 응집도</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stack</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">topOfStack</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">elements</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">topOfStack</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">push</span><span class="o">(</span><span class="kt">int</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">topOfStack</span><span class="o">++;</span>
    <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">element</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">pop</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">PoppedWhenEmpty</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">topOfStack</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">PoppedWhenEmpty</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">element</span> <span class="o">=</span> <span class="n">elements</span><span class="o">.</span><span class="na">get</span><span class="o">(--</span><span class="n">topOfStack</span><span class="o">);</span>
    <span class="n">elements</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">topOfStack</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">element</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="응집도를-유지하면-작은-클래스-여럿이-나온다"> <a href="#응집도를-유지하면-작은-클래스-여럿이-나온다" class="anchor-heading" aria-labelledby="응집도를-유지하면-작은-클래스-여럿이-나온다"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 응집도를 유지하면 작은 클래스 여럿이 나온다 </h3> <ul> <li>하나의 큰 클래스를 만들기보다는 <strong>작은 책임을 가진 클래스들로 쪼개는 것이 바람직</strong>하다.</li> <li>클래스를 쪼개면 응집도는 유지되고, 클래스는 자연스럽게 작아진다.</li> </ul> <p>👎👎👎</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrintPrimes</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">M</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">;</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">RR</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">CC</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">WW</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">ORDMAX</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">P</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">M</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
    <span class="kt">int</span> <span class="no">PAGENUMBER</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">PAGEOFFSET</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">ROWOFFSET</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">C</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">J</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">K</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="no">JPRIME</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">ORD</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">SQUARE</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">N</span><span class="o">;</span>
    <span class="kt">int</span> <span class="no">MULT</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">ORDMAX</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>

    <span class="no">J</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="no">K</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="no">P</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="no">ORD</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="no">SQUARE</span> <span class="o">=</span> <span class="mi">9</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="no">K</span> <span class="o">&lt;</span> <span class="no">M</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">do</span> <span class="o">{</span>
        <span class="no">J</span> <span class="o">=</span> <span class="no">J</span> <span class="o">+</span> <span class="mi">2</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="no">J</span> <span class="o">==</span> <span class="no">SQUARE</span><span class="o">)</span> <span class="o">{</span>
          <span class="no">ORD</span> <span class="o">=</span> <span class="no">ORD</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
          <span class="no">SQUARE</span> <span class="o">=</span> <span class="no">P</span><span class="o">[</span><span class="no">ORD</span><span class="o">]</span> <span class="o">*</span> <span class="no">P</span><span class="o">[</span><span class="no">ORD</span><span class="o">];</span>
          <span class="no">MULT</span><span class="o">[</span><span class="no">ORD</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="no">J</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="no">N</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="no">JPRIME</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span><span class="no">N</span> <span class="o">&lt;</span> <span class="no">ORD</span> <span class="o">&amp;&amp;</span> <span class="no">JPRIME</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">while</span> <span class="o">(</span><span class="no">MULT</span><span class="o">[</span><span class="no">N</span><span class="o">]</span> <span class="o">&lt;</span> <span class="no">J</span><span class="o">)</span>
            <span class="no">MULT</span><span class="o">[</span><span class="no">N</span><span class="o">]</span> <span class="o">=</span> <span class="no">MULT</span><span class="o">[</span><span class="no">N</span><span class="o">]</span> <span class="o">+</span> <span class="no">P</span><span class="o">[</span><span class="no">N</span><span class="o">]</span> <span class="o">+</span> <span class="no">P</span><span class="o">[</span><span class="no">N</span><span class="o">];</span>
          <span class="k">if</span> <span class="o">(</span><span class="no">MULT</span><span class="o">[</span><span class="no">N</span><span class="o">]</span> <span class="o">==</span> <span class="no">J</span><span class="o">)</span>
            <span class="no">JPRIME</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
          <span class="no">N</span> <span class="o">=</span> <span class="no">N</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
      <span class="o">}</span> <span class="k">while</span> <span class="o">(!</span><span class="no">JPRIME</span><span class="o">);</span>
      <span class="no">K</span> <span class="o">=</span> <span class="no">K</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
      <span class="no">P</span><span class="o">[</span><span class="no">K</span><span class="o">]</span> <span class="o">=</span> <span class="no">J</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">{</span>
      <span class="no">PAGENUMBER</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="no">PAGEOFFSET</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="k">while</span> <span class="o">(</span><span class="no">PAGEOFFSET</span> <span class="o">&lt;=</span> <span class="no">M</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"The First "</span> <span class="o">+</span> <span class="no">M</span> <span class="o">+</span> <span class="s">" Prime Numbers --- Page "</span> <span class="o">+</span> <span class="no">PAGENUMBER</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="no">ROWOFFSET</span> <span class="o">=</span> <span class="no">PAGEOFFSET</span><span class="o">;</span> <span class="no">ROWOFFSET</span> <span class="o">&lt;</span> <span class="no">PAGEOFFSET</span> <span class="o">+</span> <span class="no">RR</span><span class="o">;</span> <span class="no">ROWOFFSET</span><span class="o">++)</span> <span class="o">{</span>
          <span class="k">for</span> <span class="o">(</span><span class="no">C</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="no">C</span> <span class="o">&lt;</span> <span class="no">CC</span><span class="o">;</span> <span class="no">C</span><span class="o">++)</span>
            <span class="k">if</span> <span class="o">(</span><span class="no">ROWOFFSET</span> <span class="o">+</span> <span class="no">C</span> <span class="o">*</span> <span class="no">RR</span> <span class="o">&lt;=</span> <span class="no">M</span><span class="o">)</span>
              <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%10d"</span><span class="o">,</span> <span class="no">P</span><span class="o">[</span><span class="no">ROWOFFSET</span> <span class="o">+</span> <span class="no">C</span> <span class="o">*</span> <span class="no">RR</span><span class="o">]);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\f"</span><span class="o">);</span>
        <span class="no">PAGENUMBER</span> <span class="o">=</span> <span class="no">PAGENUMBER</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="no">PAGEOFFSET</span> <span class="o">=</span> <span class="no">PAGEOFFSET</span> <span class="o">+</span> <span class="no">RR</span> <span class="o">*</span> <span class="no">CC</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="mi">1</span><span class="o">.</span> <span class="n">명확하지</span> <span class="n">않은</span> <span class="n">변수명</span>
<span class="mi">2</span><span class="o">.</span> <span class="n">단일</span> <span class="n">main</span> <span class="n">메서드에</span> <span class="n">모든</span> <span class="n">로직</span> <span class="n">집중</span> <span class="o">(</span><span class="n">책임</span> <span class="n">분리x</span><span class="o">)</span>
<span class="mi">3</span><span class="o">.</span> <span class="n">하드코딩된</span> <span class="n">상수</span> <span class="n">및</span> <span class="n">매직</span> <span class="n">넘버</span>
<span class="mi">4</span><span class="o">.</span> <span class="n">복잡한</span> <span class="n">제어</span> <span class="n">흐름</span>
</code></pre></div></div> <p>👍👍👍 각 책임을 클래스로 나누면?</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 실행 담당</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrimePrinter</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">NUMBER_OF_PRIMES</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">;</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">primes</span> <span class="o">=</span> <span class="nc">PrimeGenerator</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="no">NUMBER_OF_PRIMES</span><span class="o">);</span>

    <span class="kd">final</span> <span class="kt">int</span> <span class="no">ROWS_PER_PAGE</span> <span class="o">=</span> <span class="mi">50</span><span class="o">;</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">COLUMNS_PER_PAGE</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    <span class="nc">RowColumnPagePrinter</span> <span class="n">tablePrinter</span> <span class="o">=</span>
        <span class="k">new</span> <span class="nf">RowColumnPagePrinter</span><span class="o">(</span><span class="no">ROWS_PER_PAGE</span><span class="o">,</span>
            <span class="no">COLUMNS_PER_PAGE</span><span class="o">,</span>
            <span class="s">"The First "</span> <span class="o">+</span> <span class="no">NUMBER_OF_PRIMES</span> <span class="o">+</span> <span class="s">" Prime Numbers"</span><span class="o">);</span>
    <span class="n">tablePrinter</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">primes</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// 프린트 포맷 담당</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RowColumnPagePrinter</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">rowsPerPage</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">columnsPerPage</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">numbersPerPage</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="n">pageHeader</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">PrintStream</span> <span class="n">printStream</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">RowColumnPagePrinter</span><span class="o">(</span><span class="kt">int</span> <span class="n">rowsPerPage</span><span class="o">,</span> <span class="kt">int</span> <span class="n">columnsPerPage</span><span class="o">,</span> <span class="nc">String</span> <span class="n">pageHeader</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">rowsPerPage</span> <span class="o">=</span> <span class="n">rowsPerPage</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">columnsPerPage</span> <span class="o">=</span> <span class="n">columnsPerPage</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">pageHeader</span> <span class="o">=</span> <span class="n">pageHeader</span><span class="o">;</span>
    <span class="n">numbersPerPage</span> <span class="o">=</span> <span class="n">rowsPerPage</span> <span class="o">*</span> <span class="n">columnsPerPage</span><span class="o">;</span>
    <span class="n">printStream</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="kt">int</span> <span class="n">data</span><span class="o">[])</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">pageNumber</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">firstIndexOnPage</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">firstIndexOnPage</span> <span class="o">&lt;</span> <span class="n">data</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="n">firstIndexOnPage</span> <span class="o">+=</span> <span class="n">numbersPerPage</span><span class="o">)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">lastIndexOnPage</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">firstIndexOnPage</span> <span class="o">+</span> <span class="n">numbersPerPage</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
      <span class="n">printPageHeader</span><span class="o">(</span><span class="n">pageHeader</span><span class="o">,</span> <span class="n">pageNumber</span><span class="o">);</span>
      <span class="n">printPage</span><span class="o">(</span><span class="n">firstIndexOnPage</span><span class="o">,</span> <span class="n">lastIndexOnPage</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
      <span class="n">printStream</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\f"</span><span class="o">);</span>
      <span class="n">pageNumber</span><span class="o">++;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printPage</span><span class="o">(</span><span class="kt">int</span> <span class="n">firstIndexOnPage</span><span class="o">,</span> <span class="kt">int</span> <span class="n">lastIndexOnPage</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">firstIndexOfLastRowOnPage</span> <span class="o">=</span>
        <span class="n">firstIndexOnPage</span> <span class="o">+</span> <span class="n">rowsPerPage</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">firstIndexInRow</span> <span class="o">=</span> <span class="n">firstIndexOnPage</span><span class="o">;</span>
        <span class="n">firstIndexInRow</span> <span class="o">&lt;=</span> <span class="n">firstIndexOfLastRowOnPage</span><span class="o">;</span>
        <span class="n">firstIndexInRow</span><span class="o">++)</span> <span class="o">{</span>
      <span class="n">printRow</span><span class="o">(</span><span class="n">firstIndexInRow</span><span class="o">,</span> <span class="n">lastIndexOnPage</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
      <span class="n">printStream</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="o">...</span>
  
<span class="o">}</span>

<span class="c1">// 소수 판별 담당</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrimeGenerator</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">primes</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">multiplesOfPrimeFactors</span><span class="o">;</span>

  <span class="kd">protected</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">generate</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">primes</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
    <span class="n">multiplesOfPrimeFactors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
    <span class="n">set2AsFirstPrime</span><span class="o">();</span>
    <span class="n">checkOddNumbersForSubsequentPrimes</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">primes</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">set2AsFirstPrime</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">primes</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">multiplesOfPrimeFactors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">checkOddNumbersForSubsequentPrimes</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">primeIndex</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">candidate</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> <span class="n">primeIndex</span> <span class="o">&lt;</span> <span class="n">primes</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">candidate</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">isPrime</span><span class="o">(</span><span class="n">candidate</span><span class="o">))</span>
        <span class="n">primes</span><span class="o">[</span><span class="n">primeIndex</span><span class="o">++]</span> <span class="o">=</span> <span class="n">candidate</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isPrime</span><span class="o">(</span><span class="kt">int</span> <span class="n">candidate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">isLeastRelevantMultipleOfNextLargerPrimeFactor</span><span class="o">(</span><span class="n">candidate</span><span class="o">))</span> <span class="o">{</span>
      <span class="n">multiplesOfPrimeFactors</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">candidate</span><span class="o">);</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="nf">isNotMultipleOfAnyPreviousPrimeFactor</span><span class="o">(</span><span class="n">candidate</span><span class="o">);</span>
  <span class="o">}</span>
  
	<span class="o">...</span>

<span class="o">}</span>

<span class="mi">1</span><span class="o">.</span> <span class="n">좀</span> <span class="n">더</span> <span class="n">길고</span> <span class="n">서술적인</span> <span class="n">변수명</span> <span class="n">사용</span>
<span class="mi">2</span><span class="o">.</span> <span class="n">함수</span> <span class="n">선언과</span> <span class="n">클래스</span> <span class="n">선언으로</span> <span class="n">코드를</span> <span class="n">설명</span>
<span class="mi">3</span><span class="o">.</span> <span class="n">가독성을</span> <span class="n">위해</span> <span class="n">공백을</span> <span class="n">추가</span> <span class="n">및</span> <span class="n">형식</span> <span class="n">맞춤</span>
</code></pre></div></div> <p>클래스는 작아지고 각자의 책임에 집중할 수 있다.</p> <ol> <li>가장 먼저 원래 프로그램의 정확한 동작을 검증하는 테스트 슈트를 작성하라.</li> <li>그 다음 한번에 하나씩 여러번에 걸쳐 코드를 변경하고,</li> <li>코드를 변경 할 때 마다 테스트를 수행해 원래 프로그램과 동일하게 동작하는지 확인하라.</li> </ol> <h2 id="변경하기-쉬운-클래스"> <a href="#변경하기-쉬운-클래스" class="anchor-heading" aria-labelledby="변경하기-쉬운-클래스"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 변경하기 쉬운 클래스 </h2> <p>우리가 작성하는 대부분의 소프트웨어는 시간이 지나면서 <strong>변경</strong>이 필요해진다(위험 ⏫). 클래스가 체계적으로 정리되어 있으면 변경도 훨씬 쉬워진다.</p> <ul> <li>공개할 필요 없는 메서드는 반드시 <strong>감춘다.</strong> <ul> <li>외부 클래스와의 <strong>불필요한 결합</strong>을 피하기 위함</li> </ul> </li> </ul> <p>👎👎👎</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sql</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">Sql</span><span class="o">(</span><span class="nc">String</span> <span class="n">table</span><span class="o">,</span> <span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">create</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">insert</span><span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">fields</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">selectAll</span><span class="o">()</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">findByKey</span><span class="o">(</span><span class="nc">String</span> <span class="n">keyColumn</span><span class="o">,</span> <span class="nc">String</span> <span class="n">keyValue</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">select</span><span class="o">(</span><span class="nc">Column</span> <span class="n">column</span><span class="o">,</span> <span class="nc">String</span> <span class="n">pattern</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">select</span><span class="o">(</span><span class="nc">Criteria</span> <span class="n">criteria</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">preparedInsert</span><span class="o">()</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">columnList</span><span class="o">(</span><span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">valuesList</span><span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">fields</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">selectWithCriteria</span><span class="o">(</span><span class="nc">String</span> <span class="n">criteria</span><span class="o">)</span>
  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">placeholderList</span><span class="o">(</span><span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div> <p>👍👍👍</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">abstract</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sql</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">Sql</span><span class="o">(</span><span class="nc">String</span> <span class="n">table</span><span class="o">,</span> <span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="kd">abstract</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreateSql</span> <span class="kd">extends</span> <span class="nc">Sql</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">CreateSql</span><span class="o">(</span><span class="nc">String</span> <span class="n">table</span><span class="o">,</span> <span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">()</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SelectSql</span> <span class="kd">extends</span> <span class="nc">Sql</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nf">SelectSql</span><span class="o">(</span><span class="nc">String</span> <span class="n">table</span><span class="o">,</span> <span class="nc">Column</span><span class="o">[]</span> <span class="n">columns</span><span class="o">)</span>
  <span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">generate</span><span class="o">()</span>
<span class="o">}</span>

<span class="o">...</span>

<span class="c1">// update 문을 추가 할때 기존 클래스를 변경할 필요가 없다.</span>
<span class="c1">// 테스트 관점에서도 모든 논리를 검증하고 증명하기 쉬워졌다.</span>
</code></pre></div></div> <h3 id="변경으로부터-격리"> <a href="#변경으로부터-격리" class="anchor-heading" aria-labelledby="변경으로부터-격리"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 변경으로부터 격리 </h3> <p><strong>상세 구현보다 추상화에 의존하라</strong></p> <ul> <li>구현에 직접 의존하는 코드는 변경에 취약하다. 인터페이스나 추상 클래스를 통해 구현 세부사항을 감추고, 변경으로부터 코드를 격리해야 한다.</li> <li>추상화에 의존하면 결합도가 낮아지고, 테스트도 쉬워지며 재사용성과 유연성도 높아진다.</li> </ul> <p>예시)</p> <p>Portfolio라는 클래스가 외부 TokyoStockExchange API를 사용한다고 할 때,</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 5분마다 값이 달라지는 주식 시세를 가져오는 API</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">StockExchange</span> <span class="o">{</span>
  <span class="nc">Money</span> <span class="nf">currentPrice</span><span class="o">(</span><span class="nc">String</span> <span class="n">symbol</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div> <p>Portfolio는 직접 API를 호출하지 않고 StockExchange 인터페이스에 의존한다.</p> <p>TokyoStockExchange는 이 인터페이스를 구현한다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Portfolio</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="nc">StockExchange</span> <span class="n">exchange</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Portfolio</span><span class="o">(</span><span class="nc">StockExchange</span> <span class="n">exchange</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">exchange</span> <span class="o">=</span> <span class="n">exchange</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>
<span class="o">}</span>

</code></pre></div></div> <p>Portfolio 생성자에서 StockExchange를 인수로 받는다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PortfolioTest</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="nc">FixedStockExchangeStub</span> <span class="n">exchange</span><span class="o">;</span>
  <span class="kd">private</span> <span class="nc">Portfolio</span> <span class="n">portfolio</span><span class="o">;</span>

  <span class="nd">@Before</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">exchange</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FixedStockExchangeStub</span><span class="o">();</span>
    <span class="n">exchange</span><span class="o">.</span><span class="na">fix</span><span class="o">(</span><span class="s">"MSFT"</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
    <span class="n">portfolio</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Portfolio</span><span class="o">(</span><span class="n">exchange</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Test</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testTotalValue</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">portfolio</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="s">"MSFT"</span><span class="o">);</span>
    <span class="nc">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="n">portfolio</span><span class="o">.</span><span class="na">value</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div> <p>결과적으로 실제 주가를 어디서 어떻게 가져오는지는 숨기고, Portfolio는 StockExchange라는 인터페이스에만 의존하므로 훨씬 유연하고 관리하기 쉬워진다.</p> <ul> <li>결합도를 낮추면 <strong>유연성과 재사용성</strong>이 높아진다. <ul> <li>각 요소가 서로 독립적이고, 변경에 덜 민감해진다.</li> <li>시스템 요소가 서로 잘 격리되어 있으면 각 요소를 이해하기 더 쉽다.</li> </ul> </li> <li>결합도를 최소로 줄이면 자연스럽게 <strong>DIP(Dependency Inversion Principle)</strong>를 따르는 클래스가 나온다. <ul> <li>DIP : 클래스가 상세한 구현이 아니라 <strong>추상화에 의존해야 한다</strong>는 원칙</li> </ul> </li> </ul> <h2 id="요약"> <a href="#요약" class="anchor-heading" aria-labelledby="요약"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 요약 </h2> <ul> <li>클래스는 변수와 함수를 체계적으로 배치한다.</li> <li>캡슐화로 내부를 숨기고, 꼭 필요한 부분만 공개한다.</li> <li>클래스는 작고 단일 책임 원칙을 지켜야 한다.</li> <li>응집도가 높아야 클래스가 자기 역할에 집중할 수 있다.</li> <li>변경에 대비해 추상화와 낮은 결합도를 설계한다.</li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
