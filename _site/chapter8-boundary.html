<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(12)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(12) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(12) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(12) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>경계 | Dev Open Library</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="경계" /> <meta property="og:locale" content="en" /> <meta name="description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <meta property="og:description" content="A minimal, responsive and feature-rich Jekyll theme for technical writing." /> <link rel="canonical" href="http://localhost:4000/chapter8-boundary.html" /> <meta property="og:url" content="http://localhost:4000/chapter8-boundary.html" /> <meta property="og:site_name" content="Dev Open Library" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="경계" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A minimal, responsive and feature-rich Jekyll theme for technical writing.","headline":"경계","url":"http://localhost:4000/chapter8-boundary.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Dev Open Library </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/chapter10-class.html" class="nav-list-link">10장 클래스</a></li><li class="nav-list-item"><a href="/chapter11-system.html" class="nav-list-link">11장 시스템</a></li><li class="nav-list-item"><a href="/chapter17-smell-and-heuristic.html" class="nav-list-link">17장 냄새와 휴리스틱</a></li><li class="nav-list-item"><a href="/chapter3-function.html" class="nav-list-link">3장 함수</a></li><li class="nav-list-item"><a href="/chapter5-consistent-formatting%20.html" class="nav-list-link">5장 형식 맞추기</a></li><li class="nav-list-item"><a href="/chpater6-obejct-and-data-structure.html" class="nav-list-link">6장 객체와 자료구조</a></li><li class="nav-list-item"><a href="/chapter7-error-handling.html" class="nav-list-link">7장 오류 처리</a></li><li class="nav-list-item"><a href="/chapter9-unit-test.html" class="nav-list-link">9장 단위 테스트</a></li><li class="nav-list-item"><a href="/chapter15-junit.html" class="nav-list-link">JUnit</a></li><li class="nav-list-item"><a href="/chapter16-SerialDate-refactoring.html" class="nav-list-link">SerialDate 리팩토링</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">clean-code-study</a></li><li class="nav-list-item"><a href="/chapter8-boundary.html" class="nav-list-link">경계</a></li><li class="nav-list-item"><a href="/chapter1-clean-code.html" class="nav-list-link">깨끗한 코드</a></li><li class="nav-list-item"><a href="/chapter13-concurrency.html" class="nav-list-link">동시성</a></li><li class="nav-list-item"><a href="/appendix-concurrency.html" class="nav-list-link">동시성</a></li><li class="nav-list-item"><a href="/chapter14-incremental-improvement.html" class="nav-list-link">점진적인 개선</a></li><li class="nav-list-item"><a href="/chapter4-annotation.html" class="nav-list-link">주석</a></li><li class="nav-list-item"><a href="/chapter12-emergence.html" class="nav-list-link">창발성</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dev Open Library" aria-label="Search Dev Open Library" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="경계"> <a href="#경계" class="anchor-heading" aria-labelledby="경계"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 경계 </h1> <p>개발할 때 모든 부분을 직접 개발하는 경우는 드물고, 외부 코드(e.g. 오픈 소스, 외부 컴포넌트나 패키지 등)을 이용하는 경우가 많다. 이러한 외부 코드와 우리 코드에 깔끔하게 통합하는 기법과 기교를 살펴본다.</p> <ul> <li>주요 내용 <ul> <li>외부 코드 사용시, 문제가 생기는 이유</li> <li>외부 코드 사용시, 학습 테스트를 이용하는 방법과 이점</li> <li>아직 존재하지 않는 코드 사용시, 경계를 구분하는 방법과 변경에 대한 대응 방법</li> </ul> </li> </ul><hr /> <h2 id="외부-코드-사용하기"> <a href="#외부-코드-사용하기" class="anchor-heading" aria-labelledby="외부-코드-사용하기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 외부 코드 사용하기 </h2> <ul> <li>외부 코드 사용시 문제가 생기는 이유: 제공자와 사용자는 서로 다른 목표를 추구 -&gt; 시스템 경계에서 문제가 생길 수 있음 <ul> <li>외부 코드 제공자: 적용성을 늘리려고 노력함</li> <li>외부 코드 사용자: 자신의 요구에 집중하는 인터페이스를 바람</li> </ul> <blockquote> <p>패키지 제공자나 프레임워크 제공자는 적용성을 최대한 넓히려 애쓴다. 더 많은 환경에서 돌아가야 더 많은 고객이 구매하니까. 반면 사용자는 자신의 요구에 집중하는 인터페이스를 바란다. 이런 긴장으로 인해 시스템 경계에서 문제가 생길 소지가 많다.</p> </blockquote> </li> <li>예시(<code class="language-plaintext highlighter-rouge">java.util.Map</code>): 제공자는 수많은 기능을 제공해 유연성을 높임, 그만큼 위험도 큼 <ul> <li>case 1: 주고 받는 데이터로 map을 사용한다면, map을 이용하는 코드 어디서든 내용을 지울 수 있어(<code class="language-plaintext highlighter-rouge">clear()</code>) 위험</li> <li>case 2: 특정 객체만 map에 저장하기로 설계, 그렇지만 map을 이용하는 코드 어디서든 다른 객체 유형도 추가 가능해 위험</li> <li>대안: map을 감싸는 wrapper class를 정의해 사용 -&gt; map과 유사한 인터페이스를 주고 받지 말라는 의미 <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Sensors</span><span class="o">{</span>
  <span class="kd">private</span> <span class="nc">Map</span> <span class="n">sensors</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">();</span>
  <span class="kd">public</span> <span class="nc">Sensor</span> <span class="nf">getById</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">){</span>
    <span class="k">return</span> <span class="o">(</span><span class="nc">Sensor</span><span class="o">)</span> <span class="n">sensors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
  <span class="o">}</span>
    
  <span class="o">...</span>
<span class="o">}</span>
</code></pre></div> </div> <blockquote> <p>Map 클래스를 사용할 때마다 위와 같이 캡슐화하라는 소리가 아니다. Map(혹은 유사한 경계 인터페이스를) 여기저기 넘기지 말라는 말이다. Map과 같은 경계 인터페이스를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의한다. Map 인스턴스를 공개 API의 인수로 넘기거나 반환값으로 사용하지 않는다.</p> </blockquote> </li> </ul> </li> </ul> <h2 id="경계-살피고-익히기"> <a href="#경계-살피고-익히기" class="anchor-heading" aria-labelledby="경계-살피고-익히기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 경계 살피고 익히기 </h2> <ul> <li>외부 코드의 테스트를 함으로써 외부 코드의 사용법 익히고 외부 코드를 통합을 진행하자. <ul> <li>짐 뉴커크의 학습 테스트 <ul> <li>바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히는 방식</li> <li>사용하려는 방식대로 외부 API를 호출해, 통제도니 환경에서 API를 제대로 이해하는지 확인 <blockquote> <p>외부 코드를 익히기는 어렵다. 외부 코드를 통합하기도 어렵다. 두 가지를 동시에 하기는 두 배나 어렵다. 다르게 접근하면 어떨까? 곧바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익히면 어떨까? 짐 뉴커크는 이를 학습 테스트라 부른다.</p> </blockquote> </li> </ul> </li> </ul> </li> </ul> <h2 id="log4j-익히기"> <a href="#log4j-익히기" class="anchor-heading" aria-labelledby="log4j-익히기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> log4j 익히기 </h2> <p>학습 테스트의 예시: log4j 익히기</p> <ol> <li>사용하려는 방식으로 테스트 코드 작성 <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@Test</span>
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testLogCreate</span><span class="o">(){</span>
     <span class="nc">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="s">"MyLogger"</span><span class="o">);</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
 <span class="o">}</span> 
</code></pre></div> </div> </li> <li>발생한 오류에 대해 처리하는 코드 작성 <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@Test</span>
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testLogCreate</span><span class="o">(){</span>
     <span class="nc">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="s">"MyLogger"</span><span class="o">);</span>
     <span class="nc">ConsoleAppender</span> <span class="n">appender</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ConsoleAppender</span><span class="o">();</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="n">appender</span><span class="o">);</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
 <span class="o">}</span> 
</code></pre></div> </div> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@Test</span>
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testLogCreate</span><span class="o">(){</span>
     <span class="nc">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="s">"MyLogger"</span><span class="o">);</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">removeAllAppenders</span><span class="o">();</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConsoleAppender</span><span class="o">(</span>
         <span class="k">new</span> <span class="nf">PatternLayout</span><span class="o">(</span><span class="s">"%p %t %m%n"</span><span class="o">),</span>
         <span class="nc">ConsoleAppender</span><span class="o">.</span><span class="na">SYSTEM_OUT</span>
     <span class="o">));</span>
     <span class="nc">ConsoleAppender</span> <span class="n">appender</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ConsoleAppender</span><span class="o">();</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="n">appender</span><span class="o">);</span>
     <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"hello"</span><span class="o">);</span>
 <span class="o">}</span> 
</code></pre></div> </div> </li> <li>의심이 가는 코드에 대해 문서를 읽고, 수정 <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">LogTest</span><span class="o">{</span>
     <span class="kd">private</span> <span class="nc">Logger</span> <span class="n">logger</span><span class="o">;</span>
   
     <span class="nd">@Before</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(){</span>
         <span class="n">logger</span> <span class="o">=</span> <span class="nc">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="s">"logger"</span><span class="o">);</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">removeAllAppenders</span><span class="o">();</span>
         <span class="nc">Logger</span><span class="o">.</span><span class="na">getRootLogger</span><span class="o">().</span><span class="na">removeAllAppenders</span><span class="o">();</span>
     <span class="o">}</span>
   
     <span class="nd">@Test</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">basicLogger</span><span class="o">(){</span>
         <span class="nc">BasicConfigurator</span><span class="o">.</span><span class="na">configure</span><span class="o">();</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"basicLogger"</span><span class="o">);</span>
     <span class="o">}</span>
   
     <span class="nd">@Test</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addAppenderWithStream</span><span class="o">(){</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConsoleAppender</span><span class="o">(</span>
             <span class="k">new</span> <span class="nf">PatternLayout</span><span class="o">(</span><span class="s">"%p %t %m%n"</span><span class="o">),</span>
             <span class="nc">ConsoleAppender</span><span class="o">.</span><span class="na">SYSTEM_OUT</span>
         <span class="o">));</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"addAppenderWithStream"</span><span class="o">);</span>
     <span class="o">}</span>
   
     <span class="nd">@Test</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addAppenderWithoutStream</span><span class="o">(){</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">addAppender</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConsoleAppender</span><span class="o">(</span>
             <span class="k">new</span> <span class="nf">PatternLayout</span><span class="o">(</span><span class="s">"%p %t %m%n"</span><span class="o">)</span>
         <span class="o">));</span>
         <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"addAppenderWithoutStream"</span><span class="o">);</span>
     <span class="o">}</span>
 <span class="o">}</span> 
</code></pre></div> </div> </li> <li>알게된 모든 지식을 클래스로 캡슐화한 뒤 이를 사용</li> </ol> <h2 id="학습-테스트는-공짜-이상이다"> <a href="#학습-테스트는-공짜-이상이다" class="anchor-heading" aria-labelledby="학습-테스트는-공짜-이상이다"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 학습 테스트는 공짜 이상이다 </h2> <ul> <li>학습 테스트가 주는 이점 <ul> <li>비용없이 필요한 지식만 확보하는 방법</li> <li>패키지가 예상대로 동작하는지 확인</li> <li>새 버전이 출시했을 때, 우리 코드와 호환되는지 미리 확인 가능</li> </ul> <blockquote> <p>학습테스트는 공짜 이상이다. 학습테스트는 이해도를 높여주는 정확한 실험이다. 학습 테스트는 패키지가 예상대로 도는지 검증한다. 패키지 새 버전이 나올 때마다 새로운 위험이 생긴다. 새 버전이 우리 코드와 호환되지 않으면 학습 테스트가 이 사실을 곧바로 밝혀낸다.</p> </blockquote> </li> </ul> <h2 id="아직-존재하지-않는-코드를-사용하기"> <a href="#아직-존재하지-않는-코드를-사용하기" class="anchor-heading" aria-labelledby="아직-존재하지-않는-코드를-사용하기"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 아직 존재하지 않는 코드를 사용하기 </h2> <p>존재하지 않는(혹은 모르는) 코드를 사용해야한다면, 이 부분에 대한 내용을 분리해 임의로 작성(작업에 필요한 내용을 작성)한 뒤 작업을 진행한다. 그리고 실제 연동시에 Adapter패턴으로 API 사용을 캡슐화해 바뀔 때 수정할 코드를 한 곳으로 모은다.</p> <blockquote> <p>경계와 관련해 또 다른 유형은 아는 코드와 모르는 코드를 분리하는 경계다. 저쪽 팀이 아직 API를 설계하지 않았으므로 구체적인 방법은 몰랐다. 이쪽 코드를 진행하고자 우리는 자체적으로 인터페이스를 정의했다. 우리가 바라는 인터페이스를 구현하면 우리가 인터페이스를 전적으로 통제한다는 장점이 생긴다. 또한 코드 가독성도 높아지고 코드 의도도 분명해진다. 우리는 (우리가 통제하지 못하며 정의되지도 않은) 송신기 API에서 <code class="language-plaintext highlighter-rouge">CommunicationsController</code>를 분리했다. ADAPTER 패턴으로 API사용을 캡슐화해 API가 바뀔 때 수정할 코드를 한 곳으로 모았다.</p> </blockquote> <h2 id="깨끗한-경계"> <a href="#깨끗한-경계" class="anchor-heading" aria-labelledby="깨끗한-경계"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 깨끗한 경계 </h2> <ul> <li>통제하지 못하는 코드를 사용할 때는 너무 많은 투자를 하거나 향후 변경 비용이 지나치게 커지지 않도록 각별히 주의해야 한다.</li> <li>경계에 위치하는 코드는 깔끔히 분리한다.</li> <li>외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.</li> <li>어느 방법이든 코드 가독성이 높아지며, 경계 인터페이스를 사용하는 일관성도 높아지며, 외부 패키지가 변했을 때 변경할 코드도 줄어든다.</li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
